<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <meta name="description" content="Draw boxplot">
  <meta name="keywords" content="boxplot">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>
<h1>Drawing Boxplot</h1>
<p>Min: <input type="text" id="min" value="5"></p>
<p>Q1: <input type="text" id="q1" value="15"></p>
<p>Md: <input type="text" id="q2" value="20"></p>
<p>Q3: <input type="text" id="q3" value="30"></p>
<p>Max: <input type="text" id="max" value="35"></p>
<p>Tick length: <input type="text" id="tick" value="5"></p>
<p>Canvas height: <input type="text" id="cheight" value="100"></p>
<p>Canvas width: <input type="text" id="cwidth" value="200"></p>

<p>
  <button type="button" id="draw">Draw plot</button>
  <button type="button" id="clear">Clear</button>
</p>

<canvas id="myCanvas" width="200" height="100"
style="border:1px solid #d3d3d3;">
Your browser does not support the canvas element.
</canvas>

<script>
  // Global variables to make context available:
  var canvas = document.getElementById("myCanvas");

  // Bind event handler to clear buttons
  document.getElementById('draw').addEventListener('click', function() {
    draw(canvas);
  }, false);
  document.getElementById('clear').addEventListener('click', function() {
    clear(canvas);
  }, false);

  function getVal(id){
    return document.getElementById(id).value;
  }
  function getFloat(id){
    return parseFloat(document.getElementById(id).value);
  }

  function clear(cnvs){
    var ctx = cnvs.getContext("2d");
    // Clears the canvas:
    ctx.beginPath();  // Important! Otherwise draws the old ones again next time.
    ctx.clearRect(0, 0, canvas.width, canvas.height);
  }

  function draw(cnvs){
    clear(cnvs);
    var ctx = cnvs.getContext("2d");

    // Values got from the user. The two first ones are in pixels, others not.
    var cheight = getFloat("cheight");
    var cwidth = getFloat("cwidth");
    var ticklen = getFloat("tick");
    var min = getFloat("min");
    var max = getFloat("max");
    var q1 = getFloat("q1");
    var q2 = getFloat("q2");
    var q3 = getFloat("q3");

    // Formatting
    ctx.lineWidth = 2;
    ctx.strokeStyle = 'blue';
    ctx.fillStyle = '#00f';
    ctx.font = 'italic 10px sans-serif';

    // Values in pixels:
    var ymiddle = cheight/2;
    var xmin = 10;
    var xmax = cwidth-10;
    var unitstep = (xmax-xmin)/(max-min)
    var xtick = ticklen*unitstep;
    var xq1 = xmin+(q1-min)*unitstep;
    var xq2 = xmin+(q2-min)*unitstep;
    var xq3 = xmin+(q3-min)*unitstep;

    var ytickline = cheight-20;
    ctx.moveTo(xmin,ytickline);
    ctx.lineTo(xmax,ytickline);
    ctx.stroke();

    var numbofticks = (max-min)/ticklen+1;
    for(var i = 0; i < numbofticks; i++){
      ctx.moveTo(xmin+i*xtick,ytickline-3);
      ctx.lineTo(xmin+i*xtick,ytickline+3);
      ctx.stroke();
      ctx.fillText(min+i*ticklen, xmin+i*xtick-7, ytickline+13);
    }

    // Left vertical (min)
    ctx.moveTo(xmin,30);
    ctx.lineTo(xmin,70);
    ctx.stroke();

    // Right vertical (max)
    ctx.moveTo(xmax,30);
    ctx.lineTo(xmax,70);
    ctx.stroke();

    // Left horizontal (min-q1)
    ctx.moveTo(xmin,50);
    ctx.lineTo(xq1,50);
    ctx.stroke();

    // Top horizontal (q1-q3)
    ctx.moveTo(xq1,30);
    ctx.lineTo(xq3,30);
    ctx.stroke();

    // Bottom horizontal (q1-q3)
    ctx.moveTo(xq1,70);
    ctx.lineTo(xq3,70);
    ctx.stroke();

    // Right horizontal (q3-max)
    ctx.moveTo(xq3,50);
    ctx.lineTo(xmax,50);
    ctx.stroke();

    // Vertical q1
    ctx.moveTo(xq1,30);
    ctx.lineTo(xq1,70);
    ctx.stroke();

    // Vertical q2
    ctx.moveTo(xq2,30);
    ctx.lineTo(xq2,70);
    ctx.stroke();

    // Vertical q3
    ctx.moveTo(xq3,30);
    ctx.lineTo(xq3,70);
    ctx.stroke();
  }



</script>

</body>
</html>
