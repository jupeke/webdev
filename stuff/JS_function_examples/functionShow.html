<!DOCTYPE HTML>
<html>
<head>
<title>Function Show</title>
<style>
.res{
  color: red
}
#header{
  position: fixed;
  top: 0;
  height: 150px;
  width: 100%;
  background-color: white;
  z-index: 1;
}
#content{
  position: absolute;
  top: 150px;
}
.codePlace{
  background-color: #dfd;
  padding: 3px;
}
button {
  margin: 5px;
  display: block;
}
body{
  line-height: 110%;
}
code{
  color: darkbrown;
  font-size: 110%;
}
</style>

<script>
//===============================================================
//=============== Functions to understand =======================
// You can freely change the functions. Source code shown on the page
// is always up-to-date because it's created dynamically.
//===============================================================

function f1(){
  var result = "";
  var i = 0;
  for (i = 0; i < 3; i++){
    result += "HA";
  }
  return result;
}
//===========================================================
function f2(){
  var result = 0;
  var i = 0;
  for (i = 0; i < 10; i++){
    result = i;
  }
  return result;
}
//=======================================================
function f3(){
  var result = 0;
  var i = 0;
  for (i = 0; i < 4; i++){
    result += i;
  }
  return result;
}
//=========================================================
function f4(){
  var result = "";
  var i = 0;
  for (i = 0; i < 7; i=i+2){
    result += "HA";
  }
  return result;
}

//=================================================
function f5(){
  var result = "HA";
  var i = 0;
  for (i = 0; i < 3; i++){
    result += result;
  }
  return result;
}

//=================================================
function f6(){
  var result = 0;
  var i,j;
  for (i = 0; i < 20; i++){
    for (j = 0; j < 20; j++){
      result ++;
    }
  }
  return result;
}
//=================================================
function f7(){
  var result = "";
  var i = 0;
  for (i = 0; i < 10; i=i+4){
    result += "HA";
  }
  return result;
}
//=========================================================
function f8(){
  var result = "";
  var i = 0;
  for (i = 0; i != 3 ; i++){    // != means "not equal"
    result += "HA";
  }
  return result;
}
//=========================================================
function f9(){
  var result = "";
  var i;
  for (i = 5; i > 1; i--){
    result += "HA";
  }
  return result;
}
//=========================================================
function f10(){
  var result = "";
  const asterisk = "*";  // const refers to a constant value.
  var i,j;
  for (i = 0; i < 20; i++){
    result += "<br>";
    for (j = 0; j < i; j++){  // i changes, too!
      result += asterisk;
    }
  }
  return result;
}
//============================================================
function f11(){
  var result = "";
  const asterisk = "*";
  var i,j;
  for (i = 0; i < 20; i++){
    result += "<br>";
    for (j = 0; j < (20-i); j++){
      result += asterisk;
    }
  }
  return result;
}
//============================================================
//=============== End of logical tasks ======================
//============================================================

// If you add a new function above, just add its name in this array. That's it!
var functions = [f1, f2, f3, f4, f5, f6, f7, f8, f9, f10, f11];

/**
  This class has all the methods for showing function features like code, name
  or return value.
*/
class FunctionShow {
  constructor(funcArray){
    this.funcArray = funcArray;
  }

  getFuncArray(){
    return this.funcArray;
  }
  setFuncArray(newArr){
    if(newArr){
      this.funcArray = newArr;
    }
  }

  // Shows the return value of the function. Parameter number defines the function.
  showResult(number){
    var idValue = "result"+number;
    document.getElementById(idValue).innerHTML =
      "<h2><span class='res'>" +
        functions[number-1]() + "</span></h2>";
  }

  // Clears all the results.
  clearIt(){
    for (i=0; i<functions.length; i++){
       document.getElementById("result"+(i+1)).innerHTML ="";
     }
  }

  // Creates the html code to show the buttons and source codes.
  createCodesAndButtons(){
    var html = "";
    var i, count, elemId;
    for (i=0; i<this.getFuncArray().length; i++){
       count = i+1;
       elemId = "code"+count;
       html += '<hr><h2>Function number '+count+' ('+this.funcArray[i].name+'):</h2>'+
                this.showSourceCode(this.funcArray[i], elemId)+
                '<button onclick="showResult('+count+')">'+
                   'Show result of function '+this.funcArray[i].name+'</button>'+
                '<div id="result'+count+'"></div>';
    }
    document.getElementById("content").innerHTML = html;
  }

  // Returns html with the source code embedded (encoded for special chars):
  showSourceCode(func, elemId){
    var code =
      '<pre class="codePlace"><code id="'+elemId+'">'+
        func.toString().replace(/</g, "&lt;")+
      '</code></pre>';
    return code;
  }

}

function init(){
  let fShow = new FunctionShow(functions);
  fShow.createCodesAndButtons();
}

</script>
</head>

<body onload="init()">
  <div id="header"><h1>Logical Questions 1</h1>
    <p>Try to figure out the return value of each function. Check by
      clicking the button. </p>
    <button onclick="clearIt()">Clear all results</button>
    <a href="../../index.html">Home</a>
  </div>
  <div id="content"></div>
</body>
</html>
