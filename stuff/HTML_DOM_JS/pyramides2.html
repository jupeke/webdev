<!DOCTYPE html>

<html>

<head>
<title>Dynamic pyramide</title>

<style>
div.row {
	margin: 4px 2px;
	padding: 0;
}
</style>

<script>
/*
	Creates a pyramide with given height, color and block size.
*/
function makePyramide(){
	var number = document.getElementById("inputNumber").value;
	var size = document.getElementById("inputSize").value;
	var color = document.getElementById("inputColor").value;
	var pyramide = "";
	var blocksInARow = array();

	// Deletes old ones and adds an empty row;
	emptyPyramides();

	// This is a bit complicated:
	for(var i = 0; i < number; i++){

		// An empty array needed:
		blocksInARow = [];

		// Adds white blocks to the beginning of a row to
		// push the colored ones to their positions.
		var limit1 = number-i-1; 	// Changes from row to row!
		for(var j = 0; j < limit1; j++){
			blocksInARow.push(makeSquare(size, "white"));
		}

		// Colored blocks in one row:
		var limit2 = 2*i+1; // Changes from row to row!
		for(var j = 0; j < limit2; j++){
			blocksInARow.push(makeSquare(size, color));
		}

		pyramide += makeRow(blocksInARow);
	}

	// Appends the new div to the end of the body element.
	document.getElementById("pyramides").appendChild(pyramide);
}

/*
	Creates a square with the features given as parameters
	and returns the html element (div).
*/
function makeSquare(size, color){

	// Creates a new div element:
	var div = document.createElement("div");
	div.style.display = "inline-block";
	div.style.height = size+"px";
	div.style.width = size+"px";
	div.style.backgroundColor=color;
	div.style.margin="0px 2px";

	return div;
}

function emptyPyramides(){
	document.getElementById("pyramides").innerHTML = "";
}

/*
	Returns the HTML of one row (div element).
*/
function makeRow(blocks){
	var result = "<div class='row'>";

	for(var i = 0; i < blocks.length; i++){
		result += blocks[i];
	}

	result += "</div>";
	return result;
}

</script>
</head>

<body>
	<h1>Dynamic pyramide</h1>
	<p style="font-weight:bold"> Fill in the information and click the button. </p>

	<p>Height in Blocks: <input type="text" id="inputNumber" value=4></p>
	<p>Block Color: <input type="text" id="inputColor" value=blue></p>
	<p>Block Size (px): <input type="text" id="inputSize" value=20></p>
	<button onclick="makePyramide()">Build it</button>

	<div id="pyramides"></div>
</body>
</html>
